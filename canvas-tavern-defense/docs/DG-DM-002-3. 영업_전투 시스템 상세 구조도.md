classDiagram direction LR

class GameRules { +update(tickCount) +switchPhase() } class OperationPhase { +update(tickCount) } class BattlePhase { +update(tickCount) } GameRules o-- OperationPhase GameRules o-- BattlePhase

class CustomerSpawner { +spawn() } class BuildingRNG { +roll() } class MergeSystem { +tryMerge(a,b) +applyUpgrade(building) } class ProductionSystem { +produce() } class ConsumptionSystem { +consume() }

OperationPhase o-- CustomerSpawner OperationPhase o-- BuildingRNG OperationPhase o-- MergeSystem OperationPhase o-- ProductionSystem OperationPhase o-- ConsumptionSystem

class MonsterSpawner { +spawn() } class WaveManager { +startWave() +updateWave() +endWave() } class CombatSystem { +resolve() +applyDamage() } BattlePhase o-- MonsterSpawner BattlePhase o-- WaveManager BattlePhase o-- CombatSystem

class TileManager class DataTable MergeSystem --> TileManager CustomerSpawner --> DataTable MonsterSpawner --> DataTable