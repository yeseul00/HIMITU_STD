# ì—°ìŠµ í”„ë¡œì íŠ¸ #3: HIMITU_Wiki PWA ì „í™˜

> **ì˜ˆìƒ ì†Œìš” ì‹œê°„**: 1-2ì‹œê°„  
> **ë‚œì´ë„**: â­ (ì´ˆê¸‰)  
> **Tavern Defense ì—°ê´€ë„**: â­â­ (ë³´ì¡°)

---

## ğŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©í‘œ

ê¸°ì¡´ HIMITU_Wiki ì›¹ì‚¬ì´íŠ¸ë¥¼ **Progressive Web App(PWA)**ìœ¼ë¡œ ì „í™˜í•˜ì—¬ ëª¨ë°”ì¼ì—ì„œ ì•±ì²˜ëŸ¼ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ë§Œë“­ë‹ˆë‹¤.

### PWA ì „í™˜ í›„ ë³€í™”

| Before (ì›¹ì‚¬ì´íŠ¸)   | After (PWA)           |
| ------------------- | --------------------- |
| ë¸Œë¼ìš°ì €ì—ì„œë§Œ ì ‘ê·¼ | í™ˆ í™”ë©´ì— ì•± ì•„ì´ì½˜   |
| í•­ìƒ ì˜¨ë¼ì¸ í•„ìš”    | ì˜¤í”„ë¼ì¸ ê¸°ë³¸ ì§€ì›    |
| ë¸Œë¼ìš°ì € UI í‘œì‹œ    | ì „ì²´í™”ë©´ ì•± ê²½í—˜      |
| ì£¼ì†Œì°½ ì§ì ‘ ì…ë ¥    | ì•± ì•„ì´ì½˜ í„°ì¹˜ë¡œ ì‹¤í–‰ |

### PWA ë™ì‘ ì˜ˆì‹œ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“± í™ˆ í™”ë©´                          ğŸ“± ì•± ì‹¤í–‰ ì‹œ              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ğŸ“·   â”‚ â”‚ ğŸ’¬   â”‚ â”‚ ğŸ“š   â”‚     â”‚  âš”ï¸ HIMITU WIKI        â”‚    â”‚
â”‚  â”‚Cameraâ”‚ â”‚Kakao â”‚ â”‚HIMITUâ”‚     â”‚                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”˜ â”‚ Wiki â”‚     â”‚  [ê²€ìƒ‰ì°½]               â”‚    â”‚
â”‚                    â””â”€â”€â”€â”€â”€â”€â”˜     â”‚                        â”‚    â”‚
â”‚    â†‘ ì•± ì•„ì´ì½˜ì²˜ëŸ¼ í‘œì‹œ!          â”‚  ğŸ“– ì§€ì‹ì˜ ë§ˆë²•ì„œ       â”‚    â”‚
â”‚                                 â”‚                        â”‚    â”‚
â”‚                                 â”‚  (ë¸Œë¼ìš°ì € UI ì—†ìŒ!)    â”‚    â”‚
â”‚                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—“ï¸ ì‘ì—… ê³„íš (1-2ì‹œê°„)

### Step 1 (20ë¶„): ì•„ì´ì½˜ ìƒì„±

#### ì‘ì—… ë‚´ìš©

```
â–¡ 192x192 PNG ì•„ì´ì½˜ ìƒì„±
â–¡ 512x512 PNG ì•„ì´ì½˜ ìƒì„±
â–¡ icons í´ë”ì— ì €ì¥
```

#### ì•„ì´ì½˜ ìƒì„± ë°©ë²•

```
ì˜µì…˜ 1: AI ì´ë¯¸ì§€ ìƒì„± (ê¶Œì¥)
  - í”„ë¡¬í”„íŠ¸: "sword and book icon, fantasy style,
              gold and brown colors, app icon format"

ì˜µì…˜ 2: ê¸°ì¡´ ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì¦ˆ
  - Figma, Canva, ë˜ëŠ” online resizer ì‚¬ìš©

ì˜µì…˜ 3: í…ìŠ¤íŠ¸ ê¸°ë°˜ ê°„ë‹¨ ì•„ì´ì½˜
  - Canvasë¡œ "âš”ï¸" ì´ëª¨ì§€ ë Œë”ë§
```

---

### Step 2 (20ë¶„): manifest.json ìƒì„±

#### íŒŒì¼ ìœ„ì¹˜

`C:\Users\SOL\Documents\GitHub\HIMITU_Wiki\manifest.json`

#### íŒŒì¼ ë‚´ìš©

```json
{
  "name": "HIMITU Wiki - ì§€ì‹ì˜ ë§ˆë²•ì„œ",
  "short_name": "HIMITU Wiki",
  "description": "íŒíƒ€ì§€ ì„¸ê³„ê´€ ê¸°ë°˜ í•™ìŠµ í¬í„¸",
  "start_url": "/index.html",
  "display": "standalone",
  "orientation": "portrait",
  "background_color": "#FFFBF0",
  "theme_color": "#3E2723",
  "icons": [
    {
      "src": "/icons/icon-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icons/icon-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "categories": ["education", "entertainment"],
  "lang": "ko"
}
```

---

### Step 3 (30ë¶„): Service Worker ìƒì„±

#### íŒŒì¼ ìœ„ì¹˜

`C:\Users\SOL\Documents\GitHub\HIMITU_Wiki\service-worker.js`

#### íŒŒì¼ ë‚´ìš©

```javascript
const CACHE_NAME = "himitu-wiki-v1";

// ìºì‹œí•  íŒŒì¼ ëª©ë¡
const urlsToCache = [
  "/",
  "/index.html",
  "/home.html",
  "/guide.html",
  "/flashcard.html",
  "/quiz.html",
  "/match.html",
  "/network.html",
  "/data.js",
  "/relations.js",
  "/learningPaths.js",
  "/progress.js",
  "/auth.js",
  "/firebase-config.js",
];

// ì„¤ì¹˜ ì‹œ ìºì‹œ
self.addEventListener("install", (event) => {
  console.log("[SW] Installing...");
  event.waitUntil(
    caches
      .open(CACHE_NAME)
      .then((cache) => {
        console.log("[SW] Caching files");
        return cache.addAll(urlsToCache);
      })
      .then(() => self.skipWaiting())
  );
});

// í™œì„±í™” ì‹œ ì´ì „ ìºì‹œ ì‚­ì œ
self.addEventListener("activate", (event) => {
  console.log("[SW] Activating...");
  event.waitUntil(
    caches
      .keys()
      .then((cacheNames) => {
        return Promise.all(
          cacheNames
            .filter((name) => name !== CACHE_NAME)
            .map((name) => caches.delete(name))
        );
      })
      .then(() => self.clients.claim())
  );
});

// ë„¤íŠ¸ì›Œí¬ ìš”ì²­ ê°€ë¡œì±„ê¸° (Cache First ì „ëµ)
self.addEventListener("fetch", (event) => {
  event.respondWith(
    caches.match(event.request).then((response) => {
      // ìºì‹œì— ìˆìœ¼ë©´ ìºì‹œ ë°˜í™˜
      if (response) {
        return response;
      }
      // ì—†ìœ¼ë©´ ë„¤íŠ¸ì›Œí¬ ìš”ì²­
      return fetch(event.request).then((response) => {
        // ìœ íš¨í•œ ì‘ë‹µì¸ ê²½ìš° ìºì‹œì— ì¶”ê°€
        if (!response || response.status !== 200 || response.type !== "basic") {
          return response;
        }
        const responseToCache = response.clone();
        caches.open(CACHE_NAME).then((cache) => {
          cache.put(event.request, responseToCache);
        });
        return response;
      });
    })
  );
});
```

---

### Step 4 (20ë¶„): index.html ìˆ˜ì •

#### ì¶”ê°€í•  ë‚´ìš© (`<head>` íƒœê·¸ ë‚´)

```html
<!-- PWA ê´€ë ¨ ë©”íƒ€ íƒœê·¸ -->
<link rel="manifest" href="/manifest.json" />
<meta name="theme-color" content="#3E2723" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta
  name="apple-mobile-web-app-status-bar-style"
  content="black-translucent"
/>
<meta name="apple-mobile-web-app-title" content="HIMITU Wiki" />
<link rel="apple-touch-icon" href="/icons/icon-192.png" />
```

#### ì¶”ê°€í•  ë‚´ìš© (`<body>` ë ë˜ëŠ” `<script>` ë‚´)

```html
<script>
  // Service Worker ë“±ë¡
  if ("serviceWorker" in navigator) {
    window.addEventListener("load", () => {
      navigator.serviceWorker
        .register("/service-worker.js")
        .then((reg) => console.log("âœ… Service Worker ë“±ë¡ë¨:", reg.scope))
        .catch((err) => console.error("âŒ Service Worker ë“±ë¡ ì‹¤íŒ¨:", err));
    });
  }
</script>
```

---

### Step 5 (10ë¶„): í…ŒìŠ¤íŠ¸ ë° ë°°í¬

#### ë¡œì»¬ í…ŒìŠ¤íŠ¸

```bash
# VS Code Live Serverë¡œ ì‹¤í–‰ í›„
# Chrome DevTools â†’ Application íƒ­ â†’ Manifest í™•ì¸
# Service Workers íƒ­ì—ì„œ ë“±ë¡ í™•ì¸
```

#### Lighthouse PWA ê²€ì‚¬

```
1. Chrome DevTools ì—´ê¸° (F12)
2. Lighthouse íƒ­ ì„ íƒ
3. Categories: Progressive Web App ì²´í¬
4. Analyze page load í´ë¦­
5. PWA ì ìˆ˜ í™•ì¸ (ëª©í‘œ: 90ì  ì´ìƒ)
```

#### GitHub Pages ë°°í¬

```bash
git add .
git commit -m "feat: Add PWA support"
git push origin main
```

---

## ğŸ“ ì¶”ê°€/ìˆ˜ì • íŒŒì¼ ëª©ë¡

```
HIMITU_Wiki/
â”œâ”€â”€ manifest.json           # [NEW] PWA ë§¤ë‹ˆí˜ìŠ¤íŠ¸
â”œâ”€â”€ service-worker.js       # [NEW] ì„œë¹„ìŠ¤ ì›Œì»¤
â”œâ”€â”€ icons/                  # [NEW] ì•„ì´ì½˜ í´ë”
â”‚   â”œâ”€â”€ icon-192.png        # [NEW] 192x192 ì•„ì´ì½˜
â”‚   â””â”€â”€ icon-512.png        # [NEW] 512x512 ì•„ì´ì½˜
â””â”€â”€ index.html              # [MODIFY] PWA ë©”íƒ€íƒœê·¸ ì¶”ê°€
```

---

## ğŸ¯ í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

### ê¸°ë³¸ ê¸°ëŠ¥

- [ ] manifest.json ë¡œë“œ ì„±ê³µ (DevTools â†’ Application)
- [ ] Service Worker ë“±ë¡ ì„±ê³µ
- [ ] ì•„ì´ì½˜ì´ ì •ìƒ í‘œì‹œë¨

### ì„¤ì¹˜

- [ ] ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— "ì„¤ì¹˜" ì•„ì´ì½˜ í‘œì‹œ
- [ ] ì•± ì„¤ì¹˜ í›„ í™ˆ í™”ë©´ì— ì•„ì´ì½˜ ìƒì„±
- [ ] ì„¤ì¹˜ëœ ì•± ì‹¤í–‰ ì‹œ ì „ì²´í™”ë©´ ëª¨ë“œ

### ì˜¤í”„ë¼ì¸

- [ ] ë¹„í–‰ê¸° ëª¨ë“œì—ì„œ ê¸°ë³¸ í˜ì´ì§€ ë¡œë“œ
- [ ] ìºì‹œëœ í˜ì´ì§€ ì •ìƒ í‘œì‹œ

### Lighthouse ì ìˆ˜

- [ ] PWA ì ìˆ˜ 90ì  ì´ìƒ
- [ ] Installable ì²´í¬ í†µê³¼
- [ ] Optimized ì²´í¬ í†µê³¼

---

## ğŸ’¡ ì¶”ê°€ ê°œì„  ì‚¬í•­ (ì„ íƒ)

### ì˜¤í”„ë¼ì¸ ì•Œë¦¼ UI

```javascript
// ì˜¤í”„ë¼ì¸ ìƒíƒœ ê°ì§€
window.addEventListener("offline", () => {
  showToast("ğŸ”Œ ì˜¤í”„ë¼ì¸ ëª¨ë“œì…ë‹ˆë‹¤");
});

window.addEventListener("online", () => {
  showToast("âœ… ì˜¨ë¼ì¸ìœ¼ë¡œ ë³µêµ¬ë˜ì—ˆìŠµë‹ˆë‹¤");
});
```

### ìºì‹œ ë²„ì „ ê´€ë¦¬

```javascript
// ì—…ë°ì´íŠ¸ ì‹œ ìºì‹œ ê°±ì‹  ì•Œë¦¼
self.addEventListener("activate", (event) => {
  // ìƒˆ ë²„ì „ ì•Œë¦¼
  self.clients.matchAll().then((clients) => {
    clients.forEach((client) => {
      client.postMessage({ type: "UPDATE_AVAILABLE" });
    });
  });
});
```

---

## ğŸ”— ì°¸ê³  ìë£Œ

| ìë£Œ               | URL                                                               |
| ------------------ | ----------------------------------------------------------------- |
| MDN PWA Guide      | https://developer.mozilla.org/en-US/docs/Web/Progressive_web_apps |
| web.dev PWA        | https://web.dev/progressive-web-apps/                             |
| Manifest Generator | https://app-manifest.firebaseapp.com/                             |
| PWA Builder        | https://www.pwabuilder.com/                                       |

---

## âœ… ì™„ë£Œ ê¸°ì¤€

1. `manifest.json` ìƒì„± ì™„ë£Œ
2. `service-worker.js` ìƒì„± ë° ë“±ë¡
3. ì•± ì•„ì´ì½˜ 192x192, 512x512 ìƒì„±
4. index.htmlì— PWA ë©”íƒ€íƒœê·¸ ì¶”ê°€
5. Chromeì—ì„œ "ì•± ì„¤ì¹˜" í”„ë¡¬í”„íŠ¸ í‘œì‹œ
6. í™ˆ í™”ë©´ì— ì•± ì•„ì´ì½˜ ìƒì„± ê°€ëŠ¥
7. Lighthouse PWA ì ìˆ˜ 90ì  ì´ìƒ

---

_ê°€ì¥ ë¹ ë¥´ê²Œ ì™„ë£Œí•  ìˆ˜ ìˆëŠ” í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤! 1-2ì‹œê°„ì´ë©´ ì¶©ë¶„í•©ë‹ˆë‹¤._
